"undefined"==typeof toolkit&&(toolkit={}),toolkit.polyfill=function(){function t(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o})}function e(){"undefined"==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function n(){"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1})}t(),e(),n()},"function"==typeof window.define&&window.define.amd?define("utils/polyfill",[],function(){return toolkit.polyfill=toolkit.polyfill(),toolkit.polyfill}):toolkit.polyfill=toolkit.polyfill(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.event=function(){function t(t){return t.replace(/\b[a-z]/g,function(){return arguments[0].toUpperCase()})}function e(e,n){var i=!1,o=e.toLowerCase()+n.toLowerCase(),a=t(e.toLowerCase())+t(n.toLowerCase());return c[o]?c[o]:("on"+o in window?i=o:"onwebkit"+o in window?i="webkit"+a:"ono"+o in document.documentElement&&(i="o"+a),i)}function n(){o(window,"resize",function(){clearTimeout(d.resize),d.resize=setTimeout(i,200)})}function i(){s(window,"resizeend"),"undefined"!=typeof $&&$(window).trigger("resizeend")}function o(t,e,n){var i=l[e.toLowerCase()];e=i||e,t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent(e,n)}function a(t,e,n){var i=l[e.toLowerCase()];e=i||e,t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function s(t,e){var n;document.createEvent?(n=new Event(e),t.dispatchEvent(n)):(n=document.createEventObject(),t.fireEvent("on"+e,n))}function r(t){/in/.test(document.readyState)?setTimeout(function(){r(t)},9):t()}var d={resize:null},c={},l={transitionend:e("transition","end"),animationend:e("animation","end")};return n(),{on:o,off:a,emit:s,ready:r}},"function"==typeof window.define&&window.define.amd?define("utils/event",[],function(){return toolkit.event=toolkit.event(),toolkit.event}):toolkit.event=toolkit.event(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.detect=function(t){function e(){t.on(window,"resize",n)}function n(){i(),o()}function i(){var t=m.className.split(" ");for(var e in g){var n=t.indexOf(g[e]);n>-1&&t.splice(n,1)}m.className=t.join(" ")}function o(){var t=m.className.split(" ");t.push(f()?y.has:y.hasNot),t.push(u("mobile")?w.mobile:w.desktop),t.push(h("landscape")?b.landscape:b.portrait),m.className=t.join(" ")}function a(){for(var t="transform",e=m.style,n=0;n<k.length;n++)if(e[k[n]+t]="translate3D(0,0,0)","translate3D(0,0,0)"===e[k[n]+t])return v.css.support3D=!0,v.css.support3D;return v.css.support3D=!1,v.css.support3D}function s(){var t,e=document.createElement("p"),n=document.createElement("style"),i='#testbefore:before { content: "before"; }';return n.type="text/css",e.id="testbefore",n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),document.body.appendChild(n),document.body.appendChild(e),t=document.getElementById("testbefore").offsetHeight,document.body.removeChild(n),document.body.removeChild(e),v.css.pseudo=t>=1,v.css.pseudo}function r(t,e,n){if(!t)return s();if(!window.getComputedStyle)return!1;var i=window.getComputedStyle(t,":"+e),o=i.getPropertyValue(n);return!o||0!==o.indexOf("'")&&0!==o.indexOf('"')||(o=o.substring(1,o.length-1)),o}function d(t){var e=r(m,t,"content"),n=r(m,t,"font-family");return e&&"normal"!=e?e:n}function c(t){if(v.css[t])return v.css[t];if("support3D"===t)return a(t);var e=m.style;if("string"==typeof e[t])return v.css[t]=!0,!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var n=0;n<k.length;n++)if("string"==typeof e[k[n]+t])return v.css[t]=!0,v.css[t];return v.css[t]=!1,v.css[t]}function l(t,e){if(!e)return c(t);var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e]),n}function u(t){return v.view=d("after")||"desktop",t?v.view==t:v.view}function h(t){return v.orientation=d("before")||"landscape",t?v.orientation==t:v.orientation}function f(){return v.touch="undefined"!=typeof window.ontouchstart,v.touch}function p(t){if(t){var e={left:t.offsetLeft,top:t.offsetTop},n=document.documentElement.scrollTop||document.body.scrollTop;return e.top+$(t).height()<=n+document.documentElement.clientHeight}}var v={css:{}},m=document.documentElement,g=["no-touch","touch-device","mobile-view","desktop-view","landscape","portrait"],k=["Moz","Webkit","Khtml","O","ms"],y={hasNot:g[0],has:g[1]},w={mobile:g[2],desktop:g[3]},b={landscape:g[4],portrait:g[5]};return o(),e(),{css:l,touch:f,orientation:h,view:u,pseudo:r,state:v,elementVisibleBottom:p,updateDetectionStates:n}},"function"==typeof window.define&&window.define.amd?define("utils/detect",["utils/event"],function(t){return toolkit.detect=toolkit.detect(t),toolkit.detect}):toolkit.detect=toolkit.detect(toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function t(){$(window).on("hashchange",e);var t=document.documentMode,n="onhashchange"in window&&(void 0===t||t>7);n||(c.hash=document.location.hash,setInterval(function(){document.location.hash!==c.hash&&$(window).trigger("hashchange")},200)),c.eventsAlreadyBound=!0}function e(t){var e,n;t=d("string"==typeof t?t:location.hash),e=o(t),t&&e?(n="callback",c.lastExecutor=t):c.lastExecutor&&(e=c.globalHashList[c.lastExecutor],n="undo"),e&&"function"==typeof e[n]&&e[n](t)}function n(){var t=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,t.pathname+t.search)):location.hash="!"}function i(t){location.hash="!"+t}function o(t){var e,n,i,o=c.globalHashList;for(e in o)if(a(t,e)||a(e,t)){if(!(e.indexOf("/*")>=0)){i=o[e];break}n=o[e]}return i||n}function a(t,e){t=d(t),e=d(e);var n=e.split("/*"),i=0===t.indexOf(n[0])&&n.length>1||t==e;return i}function s(t,n,i){"string"==typeof t&&(t=[t]);var o,s=0,r=t.length;for(s;r>s;s++){if(o=d(t[s]),c.globalHashList[o]){var l="hashManager: hash ("+o+") already exists";throw new Error(l)}c.globalHashList[o]={callback:n,undo:i},c.eventsAlreadyBound&&a(location.hash,o)&&e()}}function r(){c.globalHashList=[]}function d(t){return t.replace(/[#!]/g,"")}var c={globalHashList:{},eventsAlreadyBound:!1,lastExecutor:null,hash:null};return t(),{register:s,change:i,remove:n,onHashChange:e,resetHash:r,cleanHash:d}},"function"==typeof window.define&&window.define.amd?define("utils/hash-manager",[],function(){return toolkit.hashManager=toolkit.hashManager(),toolkit.hashManager}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.popup=function(){function t(t){var e=t.url,n=t.width||400,i=t.height||n,o=t.top||screen.height/2-i/2,a=t.left||screen.width/2-n/2,s=t.title||"Sky";return window.open(e,s,"top="+o+",left="+a+",width="+n+",height="+i)}function e(e){e.preventDefault();var n=$.extend($(this).data("popup"),{url:$(this).attr("href")});t(n)}function n(){$(document).on("click","[data-popup]",e)}return n(),{open:t}},"function"==typeof window.define&&window.define.amd?define("utils/popup",[],function(){return toolkit.popup=toolkit.popup(),toolkit.popup}):toolkit.popup=toolkit.popup(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.toggle=function(t,e){function n(t,e){return p&&t.css({height:e,overflow:"hidden",transition:"height 0.5s ease-in-out"}),t.toggleClass(f,0===e),t}function i(t){var e=!1;if(p){if(t.attr("style")){var n=t.attr("style").split(";");for(var i in n)0===n[i].trim().indexOf("height")&&(e=!0);if(e)return}t.css({height:o(t)})}}function o(t){if(void 0!==t.data("openHeight")&&!l&&!u)return t.data("openHeight");$("body").append($('<div id="toggle-tmp-height" class="skycom-container"></div>').append(t.clone().attr("style","").removeClass(f+" transition "))),$("#toggle-tmp-height > div").append('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> '),$("#toggle-tmp-height > div").prepend('<div class="toggle-clearfix-div clearfix clear" style="padding:1px"></div> ');var e=$("#toggle-tmp-height > div").height()-2;return t.data("openHeight",e),$("#toggle-tmp-height").remove(),$(".toggle-clearfix-div").remove(),e}function a(t){var e=t.find("span").length>0?t.find("span"):t,n=e.text();e.text(t.attr("data-toggle-text")),t.attr("data-toggle-text",n).attr("data-tracking-label",n)}function s(t){var e=o(t);n(t,e)}function r(t){i(t),n(t,0)}function d(t,e){"shown"==t?h[e.selector]={state:t,$elementToToggle:e}:delete h[e.selector]}function c(t){var e=t.$elClicked,n=t.$container||$(e.attr("data-toggle")),i=t.action,o=e&&e.attr("data-toggle-state");u=void 0!==t.contentChanged?t.contentChanged:!1,"shown"===o||"hide"==i?(r(n),o="hidden"):(s(n),o="shown"),d(o,n),e||(e=$('[data-toggle="#'+n.attr("id")+'"]')),e&&o!==e.attr("data-toggle-state")&&(a(e,o),e.attr("data-toggle-state",o))}var l=!1,u=!1,h={},f="toggle-hidden",p=t.css("transition");return e.on(window,"resizeend",function(){l=!0;var t,e;for(e in h)if(t=h[e],"shown"===t.state){var i=o(t.$elementToToggle);n(t.$elementToToggle,i)}l=!1}),c},"function"==typeof window.define&&window.define.amd?define("utils/toggle",["utils/detect","utils/event"],function(t,e){return toolkit.toggle=toolkit.toggle(t,e),toolkit.toggle}):toolkit.toggle=toolkit.toggle(toolkit.detect,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function t(){$(document).on("click keyup",o).on("keydown",i).on("focus","a, input, button, select, *[tabindex]",e).on("blur","a, input, button, select, *[tabindex]",n)}function e(t){s&&$(t.currentTarget).addClass(r)}function n(t){$(t.currentTarget).removeClass(r)}function i(t){var e=window.event?event.keyCode:t.keyCode;9==e&&(s=!0)}function o(t){var e=window.event?event.keyCode:t.keyCode;9==e&&(s=!1)}function a(t){$(t).addClass(r),t.focus()}var s=!1,r="has-focus";return t(),{apply:a,className:r}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus=toolkit.focus(),toolkit.focus}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.inPageNav=function(t,e){function n(t){this.$tabContainer=t,this.$tabs=t.find("li[role=tab]"),this.$tabTargets=t.find("div[role=tabpanel]"),this.$showMore=t.find(".dropdown-tab-select > a"),this.$moreTabsContainer=t.find(".dropdown-tab-select"),this.$moreTabsLink=t.find(".more-tabs"),this.numberOfTabsToShow=0,this.saveTabOrder(),this.bindEvents(),this.initTabs()}function i(t){var e=[];t.find("li").each(function(){e.push($(this).attr("data-position"))}),e.sort(),$.each(e,function(){t.find('li[data-position="'+this+'"]').appendTo(t)})}n.prototype={bindEvents:function(){var n=this;t.register(this.getHashList(),this.changeTab.bind(n)),this.$tabs.on("click",function(){n.changeTab($(this).find("a").attr("href"))}),this.$showMore.on("click",function(t){t.preventDefault(),n.toggleShowMore()}),$("body").on("click",this.hideMore.bind(n)),e.on(window,"resizeend",this.initTabs.bind(n))},getHashList:function(){var t=[];return this.$tabs.each(function(){t.push($(this).attr("aria-controls"))}),t},saveTabOrder:function(){this.$tabs.each(function(t){$(this).attr("data-position",t)})},initTabs:function(){this.moveTabsToList(),this.moveTabsToDropdown(),this.$tabTargets.filter(".selected").length||this.changeTab(this.$tabTargets.first()[0].id)},changeTab:function(t){t=t.replace("#!","");var e=$("#"+t.replace("-tab-contents","")+"-tab"),n=$("#"+t);this.$tabTargets.add(this.$tabs).removeClass("selected"),e.add(n).addClass("selected"),this.initTabs()},hideMore:function(t){$(t.target).closest(this.$showMore).length||this.toggleShowMore("hide")},toggleShowMore:function(t){var e=this.$moreTabsLink.hasClass("dropdown-tab-selected")||"hide"===t?"remove":"add";this.$showMore.add(this.$moreTabsLink)[e+"Class"]("dropdown-tab-selected")},getNumberOfTabsToShow:function(){var t=this.$tabContainer.outerWidth(!0)-this.$moreTabsContainer.show().outerWidth(!0)-this.$tabs.filter(".selected").outerWidth(!0),e=0,n=0;return this.$tabs.not(".selected").attr("style","float:left").each(function(){e+=$(this).outerWidth(!0),e>t||n++}),this.$tabs.add(this.$moreTabsContainer).removeAttr("style"),n},moveTabsToList:function(){var t=this;this.$tabs.each(function(){$(this).appendTo(t.$tabContainer.find(".tabs"))}),i(this.$tabContainer.find(".tabs")),this.numberOfTabsToShow=this.getNumberOfTabsToShow()},moveTabsToDropdown:function(){var t=this;this.$tabs.not(".selected").each(function(e){e<t.numberOfTabsToShow||($(this).appendTo(t.$moreTabsLink),t.$moreTabsContainer.show())}),i(this.$moreTabsLink)}},$.fn.inPageNav=function(){return this.each(function(){new n($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/in-page-nav",["utils/hash-manager","utils/event"],function(t,e){return toolkit.inPageNav=toolkit.inPageNav(t,e),toolkit.inPageNav}):toolkit.inPageNav=toolkit.inPageNav(toolkit.hashManager,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.accordion=function(t){function e(t){this.$container=t,this.$headings=t.find(".accordion-heading"),this.bindEvents()}function n(t){t.find("i").toggleClass("rotate-180")}return e.prototype={bindEvents:function(){this.$headings.on("click",this.toggleContent.bind(this))},toggleContent:function(e){e.preventDefault();var i=$(e.currentTarget);t({$elClicked:i}),n(i)}},$.fn.accordion=function(){return this.each(function(){new e($(this))})},e},"function"==typeof window.define&&window.define.amd?define("components/accordion",["utils/toggle"],function(t){return toolkit.accordion(t)}):toolkit.accordion=toolkit.accordion(toolkit.toggle),"undefined"==typeof toolkit&&(toolkit={}),toolkit.datePicker=function(){function t(t,e){return[null,31,n(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function e(t,e){var n=new Date(e,t-1,1).getDay();return 0===n?7:n-1}function n(t){return t%4===0&&t%100!==0||t%400===0}function i(t){return t.toString().length<2?"0"+t:t}function o(t){this.calendarDate=$.extend(s),this.$container=t,this.$day=t.find(".day"),this.$month=t.find(".month"),this.$year=t.find(".year"),this.addCalendarHTML(),this.bindEvents()}var a=["","January","February","March","April","May","June","July","August","September","October","November","December"],s={day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear()};o.prototype={bindEvents:function(){var t=this;t.$calendar.on("click",".date",t.selectDate.bind(t)).on("click",".prev",t.displayPreviousMonth.bind(t)).on("click",".next",t.displayNextMonth.bind(t)),t.$container.on("keyup","input",t.updateCalendarView.bind(t)).on("focus","input",t.show.bind(t)).on("keydown","input",function(e){9==e.keyCode&&t.hide()}),$(document).on("keydown",function(e){27==e.keyCode&&t.hide()}).on("click",function(e){"date-picker"==e.target.className||t.$container.find(e.target).length||t.hide()})},show:function(){this.$calendar.removeClass("hidden")},hide:function(){this.$calendar.addClass("hidden")},addCalendarHTML:function(){var t=$('<div class="calendar hidden" aria-hidden="true"></div>'),e=$('<div class="header"></div>'),n=$('<span class="prev"><i class="skycon-arrow-left"></i></span>'),i=$('<span class="next"><i class="skycon-arrow-right"></i></span>'),o=$("<span data-date></span>"),a=$('<div class="days"><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span></div>'),s=$('<div class="day-container"></div>');e.append(n).append(o).append(i),t.append(e).append(a).append(s),this.$container.append(t),this.$calendar=t,this.$dateDescription=o,this.$dayContainer=s,this.renderCalendar()},renderCalendar:function(){var n=this;n.$dateDescription.text(a[n.calendarDate.month]+" "+n.calendarDate.year),n.fillDays(t(n.calendarDate.month,n.calendarDate.year),e(n.calendarDate.month,n.calendarDate.year))},fillDays:function(t,e){var n=1,i=1,o=this,a=o.calendarDate,r=[],d=[],c=!1,l=!1,u=!1,h=a.month<s.month&&a.year<=s.year||a.year<s.year,f=a.month==s.month&&a.year==s.year,p=a.month==o.$month.val()&&a.year==o.$year.val();for(n;e>n;n++)r.push("<span></span>");for(i;t>=i;i++)d=[],l=i==o.$day.val()&&p,u=i<s.day&&f||h,c=i==s.day&&f,l&&d.push("selected"),u&&d.push("past"),c&&d.push("today"),r.push("<span class='date "+d.join(" ")+"' >"+i+"</span>");o.$dayContainer.html(r.join(""))},selectDate:function(t){var e=this;e.$container.find(".selected").removeClass("selected"),$(t.currentTarget).addClass("selected"),e.calendarDate.day=parseInt(t.currentTarget.textContent||t.currentTarget.innerText,10),e.$day.val(i(e.calendarDate.day)),e.$month.val(i(e.calendarDate.month)),e.$year.val(i(e.calendarDate.year)),e.hide()},displayPreviousMonth:function(){var t=this;1===t.calendarDate.month?(t.calendarDate.month=12,t.calendarDate.year--):t.calendarDate.month--,t.renderCalendar()},displayNextMonth:function(){var t=this;12===t.calendarDate.month?(t.calendarDate.month=1,t.calendarDate.year++):t.calendarDate.month++,t.renderCalendar()},updateCalendarView:function(){var t=this;t.calendarDate.day=parseInt(t.$day.val(),10)||s.day,t.calendarDate.month=parseInt(t.$month.val(),10)||s.month,t.calendarDate.year=parseInt(t.$year.val(),10)||s.year,t.renderCalendar()}},$.fn.datePicker=function(){return this.each(function(){new o($(this))})}},"function"==typeof window.define&&window.define.amd?define("components/date-picker",[],function(){return toolkit.datePicker()}):toolkit.datePicker=toolkit.datePicker(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.validation=function(){function t(){var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("safari")?-1===t.indexOf("chrome"):!1}function e(t){var e=null;return t.is("[type=checkbox]")?t.is(":checked"):t.is("[type=radio]")?(e=t.parents("form").find('input[name="'+t.attr("name")+'"]')).filter(":checked").length>0:t.val()}function n(t,e){function n(){""===t.value?e.emptyText&&t.setCustomValidity(e.emptyText):t.setCustomValidity("")}function i(){""===t.value?e.emptyText&&t.setCustomValidity(e.emptyText):e.invalidText&&t.setCustomValidity(e.invalidText)}e.emptyText&&t.setCustomValidity(e.defaultText),t.addEventListener("change",n),t.addEventListener("input",n),t.addEventListener("invalid",i)}function i(t){this.$container=t,this.$requiredInputs=t.find("*[required]"),this.$patternInputs=t.find("*[pattern]"),this.errors=[],this.hasError=!1,this.customiseHTML5Messages(),this.bindEvents()}var o=!("required"in document.createElement("input")&&"pattern"in document.createElement("input")&&!t()),a="setCustomValidity"in document.createElement("input");return i.prototype={bindEvents:function(){var t=this;o&&t.$container.on("submit",function(e){t.validate(e)})},customiseHTML5Messages:function(){a&&this.$container.find(".feedback[data-for]").each(function(){var t=document.getElementById($(this).attr("data-for"));new n(t,{invalidText:this.textContent||this.innerText})})},addErrorMessageToInput:function(t){var e=t.attr("id"),n=this.$container.find("label[for="+e+"]"),i=this.$container.find(".feedback[data-for="+e+"]");this.hasError=!0,i.length>0?i.removeClass("hidden"):i=$('<span class="form-error feedback" data-for="'+t.attr("id")+'">'+n.text()+" is required</span>").appendTo(t.closest(".row")),t.hasClass("form-error")||(t.addClass("form-error"),$('<i class="form-error skycon-warning"></i>').insertAfter(t)),this.errors.push(i.first())},removeErrorsFromInput:function(t){var e=t.attr("id"),n=this.$container.find(".feedback[data-for="+e+"]");t.hasClass("form-error")&&(t.removeClass("form-error"),t.next(".skycon-warning").remove()),n.addClass("hidden")},createErrorsAtTop:function(){var t,e='<div id="feedback-list-container" class="row" aria-live="polite"><p><i class="form-error skycon-warning"></i>Please correct the highlighted fields below:</p><ul class="feedback-list">';for(t=0;t<this.errors.length;t++)e+='<li class="form-error">'+this.errors[t].text()+"</li>";e+="</ul></div>",this.$container.prepend(e),window.location.href=window.location.href.split("#")[0]+"#feedback-list-container"},resetErrors:function(){this.hasError=!1,this.errors=[],this.$container.find("#feedback-list-container").remove()},validateRequired:function(t,e){var n=$(e),i=this;""===n.val()?i.addErrorMessageToInput(n):i.removeErrorsFromInput(n)},validatePattern:function(t,n){var i=$(n),o=this,a=i.attr("pattern"),s=new RegExp("^(?:"+a+")$"),r=e(i);r&&!s.test(r)?o.addErrorMessageToInput(i):o.removeErrorsFromInput(i)},validate:function(t){var e=this;e.resetErrors(),this.$requiredInputs.each(this.validateRequired.bind(e)),this.$patternInputs.each(this.validatePattern.bind(e)),e.hasError&&(t.preventDefault(),e.createErrorsAtTop())}},$.fn.validation=function(){return this.each(function(){new i($(this))})},i},"function"==typeof window.define&&window.define.amd?define("utils/validation",[],function(){return toolkit.validation=toolkit.validation(),toolkit.validation}):toolkit.validation=toolkit.validation(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.form=function(){},"function"==typeof window.define&&window.define.amd?define("components/form",["components/date-picker","utils/validation"],function(t,e){return toolkit.form(t,e)}):toolkit.form=toolkit.form(toolkit.datePicker,toolkit.validation),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(t,e,n,i,o){function a(e,n){var i=t(n);i.attr("data-tabindex",i.attr("tabindex")),i.attr("tabindex",-1)}function s(e,n){var i=t(n);i.attr("data-tabindex")?(i.attr("tabindex",i.attr("data-tabindex")),i.removeAttr("data-tabindex")):i.removeAttr("tabindex")}function r(){t("a, input, select, textarea, button, *[tabindex]").each(a)}function d(t){t.find("*[tabindex]").each(s)}function c(t){t&&t.focus()}function l(t,n){t.hasClass(e.className)?e.apply(n[0]):n[0].focus()}function u(){t("body").css({overflow:"hidden","padding-right":(p||m())+"px"})}function h(){t("body").removeAttr("style")}function f(e,n){this.$lightboxLink=t(e),this.href=this.$lightboxLink.attr("href"),this.options=t.extend({},k,n),this.init()}var p,v={main:"lightbox",closing:"lightbox-closing",content:"lightbox-content",closeButton:"lightbox-close",open:"lightbox-open",large:"skycom-10 skycom-offset1",small:"skycom-5 skycom-offset3"},m=function(){var t=document.createElement("div");return t.className="lightbox-scrollbar-measure",document.body.appendChild(t),p=t.offsetWidth-t.clientWidth,document.body.removeChild(t),p},g={waitingForAjax:'<div style="margin:0 auto;width: 150px;"><div class="spinner-blue"><p>Please wait...</p></div></div>',closeButton:'<a class="internal-link '+v.closeButton+' skycon-close" href="#!"><span class="speak">Close</span></a>',container:'<div class="skycom-container lightbox-container clearfix"></div>',contents:'<div class="'+v.content+'" role="dialog"></div>',lightboxWrapper:'<div class="'+v.main+'"></div>'},k={size:"large",closeButtonColour:"white"};f.prototype={init:function(){this.isAjaxRequest="#"!==this.href.substring(0,1);var t=this.getRestfulHash();this.$lightboxLink.on("click",this.open.bind(this)),n.register(t,this.open.bind(this))},getRestfulHash:function(){return this.restfulHash=this.isAjaxRequest?"#!"+this.href.split("#!")[1]:this.href,this.restfulHash},getAjaxContent:function(){var e=this,i=t(g.waitingForAjax);return e.$contents.append(i),t.get(e.href).done(function(t){e.$lightboxLink.attr("href",e.restfulHash),e.href=e.restfulHash,n.change(n.cleanHash(e.href)),i.remove(),e.populate(null,t)}),!1},bindEvents:function(){var e=this;this.$container.on("click",function(n){var i=t(n.target);return i.hasClass(v.closeButton)&&(n.preventDefault(),e.close()),i.closest("."+v.content).length?!1:(e.close(),void 0)}),i.on(this.$container[0],"animationend",e.onClose.bind(e))},populate:function(e,i){i=i||t("#"+n.cleanHash(this.restfulHash.replace(/\//g,"-"))).removeClass("hidden"),i.length>0?this.$container.find("."+v.content).append(i):(e&&e.preventDefault&&e.preventDefault(),this.getAjaxContent())},create:function(){var e=t(g.lightboxWrapper),n=t(g.contents),i=t(g.container),o=t(g.closeButton).addClass(this.options.closeButtonColour);this.$contents=n,n.attr("aria-labelledby",this.$lightboxLink.id).attr("role","dialog").addClass(v[this.options.size]),n.prepend(o),i.append(n),e.append(i),t("body").append(e),this.$container=e},open:function(t){this.$container||(this.create(),this.populate(t),this.bindEvents()),this.$container.hasClass(v.open)||(this.options.onShow&&this.options.onShow(),u(),this.$container.addClass(v.open),l(this.$lightboxLink,this.$container.find("."+v.closeButton)),r(),d(this.$container))},close:function(){var t=this;this.$container.hasClass(v.closing)||(o.css("animation")||setTimeout(t.onClose.bind(t),500),this.$container.addClass(v.closing),n.remove())},onClose:function(){var e=this;e.$container.hasClass(v.closing)&&(e.$container.removeClass(v.open+" "+v.closing),c(e.$lightboxLink),h(),d(t("body")),e.options.onClose&&e.options.onClose())}},t.fn.lightbox=function(t){return this.each(function(){new f(this,t)})}},"function"==typeof window.define&&window.define.amd?define("components/lightbox",["utils/focus","utils/hash-manager","utils/event","utils/detect"],function(t,e,n,i){return toolkit.lightbox(jQuery,t,e,n,i)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus,toolkit.hashManager,toolkit.event,toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.share=function(t){function e(){i.on("click keypress",".share-popup .summary",n)}function n(e){e.preventDefault();var n=$(this).parent(),o="keypress "+("ontouchend"in document.documentElement?"touchend":"click");if("click"===e.type||"touchend"===e.type||"keypress"===e.type&&13===e.which){n.toggleClass("active");var a=$(this).parent().find(".popover");t.elementVisibleBottom(a[0])===!1?a.addClass("top"):a.removeClass("top"),i.on(o,function s(t){$.contains(n[0],t.target)||(n.removeClass("active"),i.off(o,s))})}}var i=$(document);return e(),{toggleSharePopover:n}},"function"==typeof window.define&&window.define.amd?define("components/share",["utils/detect"],function(t){return toolkit.share(t)}):toolkit.share=toolkit.share(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.tooltip=function(t){function e(){$(document).on("mouseenter mouseleave","[data-tooltip]",i),$("[data-tooltip] .tooltip-content").on("click",n)}function n(t){t.preventDefault(),t.stopPropagation()}function i(t){var e=$(this),n=e.find(".tooltip-content");clearTimeout(n.attr("data-tooltip-entry-timeout")),clearTimeout(n.attr("data-tooltip-exit-timeout")),"mouseenter"==t.type?""!==n.text()&&a(n):s(n)}function o(e){e.toggleClass("top",!t.elementVisibleBottom(e[0]))}function a(t){t.attr("data-tooltip-entry-timeout",setTimeout(function(){t.addClass("show"),setTimeout(function(){t.addClass("fade"),o(t)},15)},500))}function s(t){var e=250;t.attr("data-tooltip-exit-timeout",setTimeout(function(){t.removeClass("fade"),setTimeout(function(){t.removeClass("show top")},e)},300))}e()},"function"==typeof window.define&&window.define.amd?define("components/tooltip",["utils/detect"],function(t){return toolkit.tooltip=toolkit.tooltip(t),toolkit.tooltip}):toolkit.tooltip=toolkit.tooltip(toolkit.detect),"undefined"==typeof toolkit&&(toolkit={}),toolkit.video=function(t,e,n){function i(t,e){if(t.attr("data-video-id")){this.$container=t,this.options={token:e.token,freewheel:e.displayAdverts,animationSpeed:void 0!==e.animationSpeed?e.animationSpeed:500,autoplay:!1,videoId:t.attr("data-video-id"),onPlay:e.onPlay,closeCallback:e.closeCallback,$wrapperLocation:e.$wrapperLocation||this.$container},this.bindEvents()}}return i.prototype={bindEvents:function(){var t=this;t.$container.on("click",".play-video",function(e){t.createWrapper(),t.play(e)})},bindWrapperEvents:function(){var t=this;e("body").one("keydown",t.stopOnEscape.bind(t)),t.$wrapper.one("click touchstart",".close",t.stop.bind(t)),t.$player.one("ended webkitendfullscreen",t.stop.bind(t))},createWrapper:function(){this.options.$wrapperLocation.append('<div class="video-wrapper"><a href="#!" class="close"><i class="skycon-close" aria-hidden=true></i><span class="speak">Close</span></a><div class="videocontrolcontainer"><video></video><img class="posterFrame"/></div></div>'),this.options.$wrapperLocation.find(".posterFrame").on("error",function(){this.src=options.placeHolderImage}),this.options.$wrapperLocation.append('<div class="video-overlay"></div>'),this.$player=this.options.$wrapperLocation.parent().find("video"),this.$wrapper=this.options.$wrapperLocation.find(".video-wrapper"),this.$wrapper.attr("id","video-"+this.options.videoId),this.bindWrapperEvents()},removeWrapper:function(){this.$wrapper.removeClass("playing-video").remove(),this.options.$wrapperLocation.find(".video-overlay").remove()},play:function(t){t&&t.preventDefault();var e=this;e.options.onPlay&&e.options.onPlay(),this.showCanvas(function(){e.$player.sky_html5player(e.options),setTimeout(function(){sky.html5player.play()},1333)})},stopOnEscape:function(t){27===t.keyCode&&(t.preventDefault(),this.stop())},stop:function(e){e&&e.preventDefault();var i=this;n.off(t,"resizeend",i.resizeContainer),sky.html5player.close(this.$wrapper),this.hideCanvas()},showCanvas:function(i){var o,a=this.$container,s=this.options.$wrapperLocation,r=s.find(".video-overlay"),d=s.find(".video-wrapper"),c=a.find(".play-video"),l=d.find(".close"),u=0===this.options.animationSpeed?0:this.options.animationSpeed||500,h=this;this.originalHeight=a.height(),d.addClass("playing-video"),r.fadeIn(u,function(){c.fadeOut(u),l.addClass("active"),o=h.calculateHeight(),a.animate({height:o},u,function(){n.on(t,"resizeend",e.proxy(h.resizeContainer,h)),d.show(),r.fadeOut(u),i()})})},calculateHeight:function(){return Math.round(this.$container.width()/16*9)},resizeContainer:function(){this.$container.animate({height:this.calculateHeight()},250)},hideCanvas:function(){var t=this,e=this.$container,n=this.options.$wrapperLocation,i=n.find(".video-overlay"),o=n.find(".video-wrapper"),a=e.find(".play-video"),s=o.find(".close"),r=0===this.options.animationSpeed?0:this.options.animationSpeed||500,d=this.originalHeight;i.fadeIn(r,function(){s.removeClass("active"),e.animate({height:d},r,function(){e.css({height:"auto"}),t.options.closeCallback&&t.options.closeCallback(),a.fadeIn(r),i.hide(),o.fadeOut(r,t.removeWrapper.bind(t))})})}},e.fn.video=function(t){return this.each(function(){new i(e(this),t)})},i},"function"==typeof window.define&&window.define.amd?define("components/video",["utils/event"],function(t){return toolkit.video(window,jQuery,t)}):toolkit.video=toolkit.video(window,jQuery,toolkit.event),"undefined"==typeof toolkit&&(toolkit={}),toolkit.carousel=function(t,e){function n(t,e){this.options=e,this.$viewport=t,this.$slideContainer=t.find(".skycom-carousel-container"),this.$slides=this.$slideContainer.find(".slide"),this.currentIndex=0,this.slideCount=this.$slides.length,this.timerId=!1,this.touchReset(),this.bindEvents(),this.initialiseVideos()}var i=e.css("support3D"),o=e.css("transform");n.prototype={unbindTouchEvents:function(){this.$slideContainer.off("touchstart touchmove touchend touchcancel")},bindTouchEvents:function(){this.$slideContainer.on("touchstart",this.touchstart.bind(this)).on("touchmove",this.touchmove.bind(this)).on("touchend",this.touchend.bind(this)).on("touchcancel",this.touchReset.bind(this))},bindEvents:function(){this.bindTouchEvents(),this.$slideContainer.find("a").on("click",this.pause.bind(this)),this.$slideContainer.find("figure").on("click",function(t){t.target.parentNode.className.indexOf("play-video")>=0||t.target.className.indexOf("play-video")>=0||(document.location=$(this).closest(".slide").find("figcaption a").attr("href"))}),this.$slideContainer.on("hover",".slide figure",function(t){$(this).closest(".slide").find("figcaption a").toggleClass("hover","mouseenter"===t.type)
})},unbindEvents:function(){this.unbindTouchEvents(),this.$slideContainer.find("a").off("click")},setOffset:function(t,e){var n=this.$slideContainer.removeClass("animate");return e&&n.addClass("animate"),i?n.css("transform","translate3d("+t+"%,0,0) scale3d(1,1,1)"):o?n.css("transform","translate("+t+"%,0)"):e?n.animate({left:2*t+"%"},600):n.css({left:2*t+"%"}),this},toggleTermsContent:function(){this.pause();var t=0===this.$viewport.next(".terms-content").find(".terms").length;this[t?"showTermsContent":"hideTermsContent"]()},showTermsContent:function(){this.hideTermsContent();var t=$(this.$slides[this.currentIndex]).find(".terms");t.length&&this.$viewport.next(".terms-content").append(t.clone(!0).removeClass("speak").attr("aria-hidden","true")).fadeIn(200)},hideTermsContent:function(){this.$viewport.next(".terms-content").fadeOut(200,function(){$(this).find(".terms").remove()})},showTermsLink:function(t){this.hideTermsLink();var e=$(this.$slides[t]).find(".terms");e.length&&this.$viewport.find(".terms-link").removeClass("hidden").fadeIn(200)},hideTermsLink:function(){this.$viewport.find(".terms-link").fadeOut(200),this.hideTermsContent()},initialiseVideos:function(){var t=this;this.$slides.video({$wrapperLocation:t.$viewport,token:"8D5B12D4-E1E6-48E8-AF24-F7B13050EE85",displayAdverts:!1,onPlay:function(){t.pause(),t.$viewport.find(".actions, .indicators, .terms-link").fadeOut(500)},closeCallback:function(){t.$viewport.find(".actions, .indicators, .terms-link").fadeIn(500)}})},moveSlide:function(t){var e,n,i=this,o=this.$slides;return n=t.index>=this.slideCount?0:t.index<0?this.slideCount-1:t.index,e=t.index>this.currentIndex&&!t.reverse?"left":"right",o.filter(":not(:eq("+this.currentIndex+"))").hide(),o.eq(this.currentIndex).css("float",e),o.eq(n).show().css("float","left"==e?"right":"left"),this.setOffset(t.start,!1),"undefined"!=typeof t.end&&(setTimeout(function(){i.setOffset(t.end,!0),i.showTermsLink(n),i.$viewport.trigger("change",n)},20),this.currentIndex=n,"function"==typeof t.callback&&t.callback(n)),n},"goto":function(t,e,n){return e!==!1&&this.pause(),t!==this.currentIndex?(t>this.currentIndex?this.moveSlide({index:t,start:0,end:-50,callback:n}):this.moveSlide({index:t,start:-50,end:0,callback:n}),this):void 0},next:function(t,e){return this.goto(this.currentIndex+1,t,e),this.$viewport.find(".indicators, .actions").css("display","block"),this},previous:function(){return this.goto(this.currentIndex-1),this.$viewport.find(".indicators, .actions").css("display","block"),this},play:function(t,e){var n=this,i=this.options.interval;return n.timerId=setTimeout(function(){n.next(!1),n.timerId=setTimeout(function t(){n.next(!1,function(){n.timerId=setTimeout(t,i)})},i)},e||this.options.onPlayDelay),this.$viewport.trigger("playing"),"function"==typeof t&&t(),this},pause:function(t){return clearTimeout(this.timerId),this.$viewport.trigger("paused"),"function"==typeof t&&t(),this},touchstart:function(t){var e=t.originalEvent.touches[0];this.pause(),this.swipe.start={x:e.pageX,y:e.pageY}},touchmove:function(t){var e,n=this.swipe,i=t.originalEvent.touches[0],o=i.pageX-n.start.x,a=i.pageY-n.start.y,s=Math.abs(o)>Math.abs(a),r=0>o?this.currentIndex+1:this.currentIndex-1;n.start&&s!==!1&&(t.preventDefault(),e=o/this.$slideContainer.outerWidth(!0)*100,o>0&&(e-=50),this.swipe.positionAsPercentage=e,this.moveSlide({index:r,start:e}))},touchend:function(t){if(this.swipe.start){var e=this.swipe,n=e.positionAsPercentage,i=t.originalEvent.changedTouches[0],o=i.pageX-e.start.x,a=null,s=75;if(Math.abs(o)>s&&(a=0>o?"left":"right"),"left"===a)this.moveSlide({index:this.currentIndex+1,start:n,end:-50}),this.$viewport.find(".next").trigger("toolkit.track");else if("right"===a)this.moveSlide({index:this.currentIndex-1,start:n,end:0}),this.$viewport.find(".previous").trigger("toolkit.track");else if(0!==n){var r,d=o>0?n+50:n,c=this.currentIndex,l=0;0>d?this.currentIndex=c+1>=this.slideCount?0:c+1:(this.currentIndex-=1,l=-50,d-=50),r=0===this.currentIndex&&c===this.slideCount-1,this.moveSlide({index:c,start:d,end:l,reverse:r})}this.touchReset()}},touchReset:function(){this.swipe={start:!1,positionAsPercentage:0}}},$.fn.skycom_carousel=function(t){var e=$.extend(!0,{actions:[{id:"play",label:"Play Carousel",icon:"carousel-play"},{id:"pause",label:"Pause Carousel",icon:"carousel-pause"},{id:"previous",label:"Previous",icon:"chevron-left",speak:!0},{id:"next",label:"Next",icon:"chevron",speak:!0}],autoplay:!0,startSlideIndex:0,onPlayDelay:500,interval:6e3},t),i={actions:function(t,e){var n,i,o,a,s,r,d="",c=e.actions,l=e.onclick;if(e.count<=1)return this;for(o=0;o<c.length;o++)r=c[o],n=r.id,a="next"==n||"previous"==n?" hidden-touch ":"",s="skycon-"+r.icon,i=r.speak?'<span class="speak">'+r.label+"</span>":r.label,d+='<a href="#" class="skycom-internal supportive '+a+n+'" >',d+='<span class="semi-circle"><i class="'+s+'" aria-hidden="true"></i></span>'+i,d+="</a>";return t.find(".skycom-carousel-container").before('<div class="actions">'+d+"</div>"),t.find("> .actions > *").each(function(t){$(this).attr("data-action",c[t].id).on("click",function(e){l(c[t].id),e.preventDefault()})}),this},indicators:function(t,e){var n,i,o=e.count,a=e.onclick,s='<div class="indicators"><div class="container">',r=' class="active"';if(o>1)for(i=o;i--;)s+="<span"+r+' data-tracking data-tracking-label="indicator"></span>',r="";return n=$(s+"</div></div>").on("click","span",function(t){a($(t.currentTarget).index())}),t.append(n),this},terms:function(t){var e=$('<a href="#!" class="terms-link carousel-content cushioned hidden black internal-link supportive" aria-hidden="true">Terms and Conditions</a>'),n=$('<div class="terms-content carousel-content  cushioned hidden"></div>');return t.find(".terms").length&&(t.append(e),t.after(n),t.addClass("has-terms")),this},video:function(t){return t.append('<div class="video-overlay"></div>'),this}};return this.each(function(){var t=$(this),o=new n(t,e),a=function(n){i.indicators(t,{count:n.slideCount,onclick:function(t){n.goto(t)}}).terms(t).actions(t,{count:n.slideCount,actions:e.actions,onclick:function(t){n[t]()}})};a(o),t.on("click",".terms-link",function(){o.toggleTermsContent()}).on("change",function(e,n){n=n||0,t.find(".indicators .container > *").removeClass("active").eq(n).addClass("active"),o.$slides.removeClass("active").find("a").attr("tabindex",-1),o.$slides.eq(n).addClass("active").find("a").removeAttr("tabindex")}).on("playing",function(){t.removeClass("paused").addClass("playing")}).on("paused",function(){t.removeClass("playing").addClass("paused")}).on("pause",function(){o.pause()}).on("play",function(){o.play()}).on("goto",function(t,e){o.goto(e,!0)}).on("refresh",function(e,n){o.$slides=o.$slideContainer.find(">"),o.slideCount=o.$slides.length,t.find(".indicators").remove(),t.find(".actions").remove(),t.find(".video-overlay").remove(),n=parseInt(n,10),n=isNaN(n)||0>n?0:n,n=n>o.slideCount-1?o.slideCount-1:n,o.goto(n,!0),a(o)}).on("keyup",function(t){switch(t.keyCode){case 9:o.pause();break;case 37:o.previous();break;case 39:o.next()}}).find(".toggle-terms").on("click",function(){o.$viewport.toggleClass("showing-tandcs")}),o.slideCount>1?(o[e.autoplay===!0?"play":"pause"](!1,e.interval),o.goto(e.startSlideIndex,!1),o.showTermsLink(0),t.trigger("change")):(o.showTermsLink(0),o.unbindTouchEvents())})}},"function"==typeof window.define&&window.define.amd?define("components/carousel",["components/video","utils/detect"],function(t,e){return toolkit.carousel(t,e)}):toolkit.carousel=toolkit.carousel(toolkit.video,toolkit.detect),"function"==typeof window.define&&window.define.amd&&define("toolkit",["utils/polyfill","utils/detect","utils/hash-manager","utils/popup","utils/toggle","utils/focus","utils/event","components/in-page-nav","components/accordion","components/form","components/lightbox","components/share","components/tooltip","components/video","components/carousel"],function(t,e,n,i,o,a,s,r,d,c,l,u,h,f,p,v){return{polyfill:t,detect:e,hashManager:n,popup:i,toggle:o,focus:a,validation:s,event:r,inPageNav:d,accordion:c,datePicker:l,lightbox:u,share:h,tooltip:f,video:p,carousel:v}});