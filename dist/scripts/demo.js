var developerNotesLogger=function(){function t(){return console&&console.group?(console.group($($("h1").get(0)).text()),$(".wiki-section").each(function(){var t=$(this);t.find("> h2").text()&&console.groupCollapsed(t.find("> h2").text()),o(t),t.find(".sub-section").each(function(){var t=$(this);t.find("> h3").text()&&console.groupCollapsed(t.find("> h3").text()),o(t),t.find(".example").each(function(){var t=$(this);t.find("> h4").text()&&console.groupCollapsed(t.find("> h4").text()),o(t),t.find("> h4").text()&&console.groupEnd()}),t.find("> h3").text()&&console.groupEnd()}),t.find("> h2").text()&&console.groupEnd()}),console.groupEnd(),void 0):(console.log("Please use a real browser for developer notes"),void 0)}function o(t){var o=t.find("> .developer-notes"),i=t.find("> .dependencies").html(),a=t.find("> script").html();a&&(a=a.split(";"),a.shift(),a=a.join(";")),o.each(function(){n($(this).html())}),n(i,"Dependencies"),n(a,"Javascript"),e(t)}function e(t){var o=t.find("> .demo").attr("data-selector"),e=t.find("> .demo > "+o).not(".developer-notes");e.each(function(){var t=window.demoCode[o]||this.outerHTML;n(t,"'"+this.tagName+"' html")})}function n(t,o){t&&t.trim().length&&(o&&console.groupCollapsed(o),console.log.apply(console,i(t.trim().replace(/&lt;/g,"<").replace(/&gt;/g,">"))),o&&console.groupEnd())}function i(t){var o=null===t.match(/<code>/gi)?0:t.match(/<code>/gi).length,e=t.replace(/<code>/gi,"%c").replace(/<\/code>/gi,"%c"),n=[e];if(e.indexOf("%c")>-1)for(var i=0;o>i;i++)n.push("background: #FDF6E3; color: #777;"),n.push("background: white; color:black;");return n}return t};"function"==typeof window.define&&window.define.amd?define("utils/developer-notes-logger",[],function(){return developerNotesLogger()}):developerNotesLogger(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.hashManager=function(){function t(){$(window).on("hashchange",o);var t=document.documentMode,e="onhashchange"in window&&(void 0===t||t>7);e||(c.hash=document.location.hash,setInterval(function(){document.location.hash!==c.hash&&$(window).trigger("hashchange")},200)),c.windowLoaded=!0}function o(t){var o,e;t=s("string"==typeof t?t:location.hash),t?(o=c.globalHashList[t],e="callback",c.lastExecutor=t):c.lastExecutor&&(o=c.globalHashList[c.lastExecutor],e="undo"),o&&"function"==typeof o[e]&&o[e](t)}function e(){var t=window.location;"pushState"in history?(location.hash="!",history.pushState("",document.title,t.pathname+t.search)):location.hash="!"}function n(t){location.hash="!"+t}function i(t,e,n){var i=c.globalHashList;$(t).each(function(t,a){if(a=s(a),i[a]){var r="hashManager: hash ("+a+") already exists";throw new Error(r)}i[a]={callback:e,undo:n},c.windowLoaded&&a===s(location.hash)&&o(a)})}function a(){c.globalHashList=[]}function s(t){return t.replace(/[#!]/g,"")}var c={globalHashList:{},hasLoaded:!1,windowLoaded:!1,lastExecutor:null,hash:null};return t(),{register:i,change:n,remove:e,onHashChange:o,resetHash:a,cleanHash:s}},"function"==typeof window.define&&window.define.amd?define("utils/hashManager",[],function(){return toolkit.hashManager()}):toolkit.hashManager=toolkit.hashManager(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.focus=function(){function t(){$(document).on("click keyup",i).on("keydown",n).on("focus","a, input, button, select, *[tabindex]",o).on("blur","a, input, button, select, *[tabindex]",e)}function o(t){s&&$(t.currentTarget).addClass(c)}function e(t){$(t.currentTarget).removeClass(c)}function n(t){var o=window.event?event.keyCode:t.keyCode;9==o&&(s=!0)}function i(t){var o=window.event?event.keyCode:t.keyCode;9==o&&(s=!1)}function a(t){$(t).addClass(c),t.focus()}var s=!1,c="has-focus";return t(),{apply:a,className:c}},"function"==typeof window.define&&window.define.amd?define("utils/focus",[],function(){return toolkit.focus()}):toolkit.focus=toolkit.focus(),"undefined"==typeof toolkit&&(toolkit={}),toolkit.lightbox=function(t,o){function e(o,e){var n=t(e);n.attr("data-tabindex",n.attr("tabindex")),n.attr("tabindex",-1)}function n(o,e){var n=t(e);n.attr("data-tabindex")?(n.attr("tabindex",n.attr("data-tabindex")),n.removeAttr("data-tabindex")):n.removeAttr("tabindex")}function i(t){this.$container=t,this.$closeIcon=t.find(".lightbox-close"),this.bindEvents()}var a=function(){var t,o=document.createElement("div");return o.className="lightbox-scrollbar-measure",document.body.appendChild(o),t=o.offsetWidth-o.clientWidth,document.body.removeChild(o),t}();return i.prototype={bindEvents:function(){var o=this.$container.attr("id");this.$container.on("click",this.close.bind(this)),this.$closeIcon.on("click",this.close.bind(this)),t("[data-lightbox=#"+o+"]").on("click",this.open.bind(this)),this.$container.find(".lightbox-content").on("click",function(){return!1})},open:function(i,s){i&&(i.preventDefault(),this.$originator=t(i.target)),s&&(this.$originator=s),t("body").css({overflow:"hidden","padding-right":a+"px"}),this.$container.addClass("lightbox-open"),this.$originator.hasClass(o.className)?o.apply(this.$closeIcon[0]):this.$closeIcon[0].focus(),t("a, input, select, textarea, button, *[tabindex]").each(e),this.$container.find("*[tabindex]").each(n)},close:function(o){if(o.preventDefault(),!this.$container.hasClass("lightbox-closing")){this.$container.addClass("lightbox-closing");var e=this.$container,i=this.$originator;window.setTimeout(function(){e.removeClass("lightbox-open"),e.removeClass("lightbox-closing"),i&&i.focus(),t("body").removeAttr("style"),t("*[tabindex]").each(n)},500)}}},t.fn.lightbox=function(){return this.each(function(){new i(t(this))})},{show:function(o,e){var n=new i(t(o));n.open.bind(n)(!1,t(e))}}},"function"==typeof window.define&&window.define.amd?define("modules/lightbox",["utils/focus"],function(t){return toolkit.lightbox(jQuery,t)}):toolkit.lightbox=toolkit.lightbox(jQuery,toolkit.focus);var demo=function(t,o,e){function n(){$(document).on("click",".toggler",s),$("#check").on("click",i)}function i(t){t.preventDefault();var o=$("#version").val(),e=$(".wiki-header small").text().replace("v",""),n="http://web-toolkit.global.sky.com";(o.split(".").length<3||o.split(".")[0]<1)&&$(".sky-form .error").text("The version number is required, and must be '1.0.0' or higher"),(1===parseFloat(o,10)||"0"===o.split(".")[0])&&(o="0.6.9"),window.toolkit.diff({oldRoute:n+"/"+o+"/_site/_includes/",newRoute:n+"/"+e+"/_site/_includes/"})}function a(){var t=[],o=$("#wiki-skycons tbody tr");o.each(function(o){t.push({i:o,skycon:$(this).find("td").first().text().trim()})}),t.sort(function(t,o){return t.skycon>o.skycon?1:t.skycon<o.skycon?-1:0}),$("#wiki-skycons tbody tr").remove();for(var e=0;e<t.length;e++)$("#wiki-skycons tbody").append($(o[t[e].i]))}function s(){var t=$(this),o=$("div[data-toggle="+t.attr("for")+"]");o.hasClass("open")?(t.removeClass("open"),o.removeClass("open")):(t.addClass("open"),o.addClass("open"))}function c(t,o){var e=o.find(".failures em").text();"0"===e?t.append("<span class='colour result-summary'><i class='skycon-tick' aria-hidden='true'></i> Tests Passed</span>"):t.append("<span class='colour error result-summary'><i class='skycon-warning' aria-hidden='true'></i> Tests Failed</span>")}function r(t,o){var n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("article"),s=$('<a class="internal-link lightbox-close skycon-close black" href="#"><span class="speak">Close</span></a>');n.className="lightbox",n.id=o+"-lightbox",i.className="skycom-container lightbox-container clearfix",a.className="lightbox-content skycom-10 skycom-offset1",$(a).append(s),$(a).append(t.find("#mocha-stats")),$(a).append(t.find("#mocha-report")),$(i).append($(a)),$(n).append($(i)),t.append($(n)),e.show("#"+o+"-lightbox")}function l(t){var o=t.replace("test/",""),n=document.createElement("script");n.src="/test/specs/"+o+".js",n.onload=function(){var n=$('a[href*="#'+t+'"]'),i=$('<div id="mocha" class="mocha-container"></div>');n.parent().after(i);var a=window[o]();mocha.grep(a),mocha.run(function(){c(n,i),i.attr("id","mocha-"+o)}),n.removeAttr("href"),$("html, body").animate({scrollTop:i.parent().prev().offset().top},200),r(i,o),n.on("click",function(){e.show("#"+o+"-lightbox")})},document.head.appendChild(n)}function d(){if(!window.require||!window.describe)return setTimeout(d,250),void 0;var t=[];$(".run-test").each(function(){t.push($(this).attr("href").split("#")[1])}),o.register(t,l)}t(),n(),a(),d()};"function"==typeof window.define&&window.define.amd?define("demo",["utils/developer-notes-logger","utils/hashManager","modules/lightbox"],function(t,o,e){return demo(t,o,e)}):demo(developerNotesLogger,toolkit.hashManager,toolkit.lightbox);